# Akka Configuration for Parking System
# See https://doc.akka.io/docs/akka/current/general/configuration.html

akka {
  version = "2.6.20"

  loggers = ["akka.event.slf4j.Slf4jLogger"]
  loglevel = "INFO"
  logging-filter = "akka.event.slf4j.Slf4jLoggingFilter"

  actor {
    provider = "akka.actor.LocalActorRefProvider"
    
    # Serialization configuration
    serializers {
      java = "akka.serialization.JavaSerializer"
    }

    serialization-bindings {
      "com.ticketless.parking.messages.CarParkMessage" = java
    }
  }

  # Actor mailbox configuration
  default-mailbox {
    mailbox-type = "akka.dispatch.UnboundedMailbox"
  }

  # Graceful shutdown
  coordinated-shutdown {
    run-by-jvm-shutdown-hook = true
    terminate-actor-system = true
    exit-jvm = true
  }
}

# Application-specific configuration
parking-system {
  # Environment: local, development, production
  environment = "development"
  environment = ${?PARKING_ENVIRONMENT}

  # Enable metrics collection
  enable-metrics = false
  enable-metrics = ${?PARKING_ENABLE_METRICS}

  # Health check port (useful for AWS ECS)
  health-check-port = 8080
  health-check-port = ${?PARKING_HEALTH_CHECK_PORT}
}
